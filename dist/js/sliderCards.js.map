{"version":3,"names":[],"mappings":"","sources":["sliderCards.js"],"sourcesContent":["const leftRightBtn = document.querySelectorAll('.lRBtn');\r\nlet imgIndex = 0;\r\nconst imagesCont = document.querySelector('.offer .cards')\r\nconst cards = imagesCont.querySelectorAll('.card')\r\n\r\ncards.forEach((card) => {\r\n    card.addEventListener('mousedown', function(evn) {\r\n        evn.preventDefault()\r\n    })\r\n})\r\n\r\nleftRightBtn.forEach((btn) => {\r\n    btn.addEventListener('click', function(elm) {\r\n        clcikBtn(elm.target);\r\n        ditablishLR();\r\n        curcleChange(imgIndex)\r\n    })\r\n})\r\n\r\nfunction clcikBtn(elm) {\r\n    if(elm.className.search('left') !== -1) {\r\n        imgIndex--;\r\n    } else {\r\n        imgIndex++;\r\n    }\r\n    \r\n    imagesCont.style.transform = `translateX(${(-imgIndex * document.querySelector('.offer .card').offsetWidth) - imgIndex * 15}px)`\r\n}\r\n\r\n\r\nfunction ditablishLR() {\r\n    if(document.querySelector('.left').getAttribute('disabled', '') !== null || document.querySelector('.right').getAttribute('disabled', '') !== null) {\r\n        leftRightBtn.forEach((btnn) => {\r\n            btnn.removeAttribute('disabled');\r\n        });\r\n    }    \r\n    if(imgIndex === 0) {\r\n        document.querySelector('.left').setAttribute('disabled', '');\r\n    } else if(imgIndex === cards.length-Math.floor((document.querySelector('.cont').offsetWidth / document.querySelector('.offer .card').offsetWidth))) {\r\n        document.querySelector('.right').setAttribute('disabled', '');\r\n    }\r\n}\r\n\r\nditablishLR();\r\n\r\n\r\n// first\r\nconst circule = document.querySelector('.circle');\r\nlet circuleArr = [];\r\n\r\n// secont\r\n\r\nfunction starterDrow() {\r\n    circule.innerHTML = '';\r\n    circuleArr = [];\r\n    for(let i = 0; i < cards.length-Math.floor((document.querySelector('.cont').offsetWidth / document.querySelector('.offer .card').offsetWidth)); i++) {\r\n        if(i === 0) {  \r\n            circuleArr.push(`<div class=\"bold circleBtn\"></div>`)\r\n        }\r\n        circuleArr.push(`<div class=\"empty circleBtn\"></div>`)\r\n    }\r\n\r\n    circule.innerHTML = circuleArr.join(''); \r\n}  \r\nstarterDrow();\r\n\r\nlet bodyWidth =  document.body.offsetWidth;\r\n\r\nsetInterval(() => {\r\n\r\n    if(bodyWidth !== document.body.offsetWidth) {\r\n        let id = setInterval(() => {\r\n            if(document.body.offsetWidth < 1350 && document.body.offsetWidth > 1150) {\r\n                bodyWidth =  document.body.offsetWidth;\r\n                restart();\r\n                clearInterval(id);\r\n            } else if(document.body.offsetWidth < 1150 && document.body.offsetWidth > 750){\r\n                bodyWidth =  document.body.offsetWidth;\r\n                restart();\r\n                clearInterval(id);\r\n            } else if (document.body.offsetWidth < 750 && document.body.offsetWidth > 550){\r\n                bodyWidth =  document.body.offsetWidth;\r\n                restart();\r\n                clearInterval(id);\r\n            }else if (document.body.offsetWidth < 550){\r\n                bodyWidth =  document.body.offsetWidth;\r\n                restart();\r\n                clearInterval(id);\r\n            } else {\r\n                bodyWidth =  document.body.offsetWidth;\r\n                restart();\r\n                clearInterval(id);\r\n            }\r\n        }, 0)\r\n    }    \r\n}, 0)\r\n\r\nfunction restart() {\r\n        setTimeout(() => {\r\n            imgIndex = 0;\r\n            starterDrow();\r\n            drowCircule();\r\n            ditablishLR();\r\n             imagesCont.style.transform = `translateX(${(-imgIndex * document.querySelector('.offer .card').offsetWidth)}px)`\r\n        }, 1000)\r\n}\r\n\r\nfunction drowCircule() {    \r\n    circuleArr = circuleArr.map((icon, i) => {\r\n        if(imgIndex !== i) {\r\n            return '<div class=\"empty circleBtn\"></div>';\r\n        } else if(imgIndex === i) {\r\n            return '<div class=\"bold circleBtn\"></div>';\r\n        }\r\n    })\r\n\r\n    circule.innerHTML = circuleArr.join('');\r\n    clickCircule(circule)\r\n}\r\n\r\n\r\nfunction clickCircule(circule) {\r\n    circule.querySelectorAll('.circleBtn').forEach((val, i) => {\r\n        val.addEventListener('click', function(evn) {\r\n            imgIndex = i;\r\n            imagesCont.style.transform = `translateX(${(-imgIndex * document.querySelector('.offer .card').offsetWidth) - imgIndex * 15}px)`;\r\n     \r\n            //drowCircule();\r\n            curcleChange(imgIndex)\r\n            evn.target.classList.remove('empty');\r\n            evn.target.classList.add('bold');\r\n            ditablishLR();\r\n        })\r\n    })\r\n}\r\n\r\n\r\nfunction curcleChange(index) {\r\n    circule.querySelectorAll('.circleBtn').forEach((val, i) => {\r\n        if(index !== i) {\r\n            val.classList.remove('bold');\r\n            val.classList.add('empty');\r\n        } else {\r\n            val.classList.add('bold');\r\n            val.classList.remove('empty'); \r\n        }\r\n    })\r\n}\r\nclickCircule(circule)\r\n\r\n\r\nlet scrollNum;\r\nlet ids = 1;\r\nlet trueScroll;\r\nlet lastNum;\r\nlet lastX;\r\nlet fr = 1;\r\nfunction myFunc(evn) {\r\n    if((imgIndex !== 0 || fr > 1) && (evn.clientX !== undefined ? evn.clientX : evn.touches[0].clientX) > lastNum) {\r\n        fr += lastX - (evn.clientX !== undefined ? evn.clientX : evn.touches[0].clientX);\r\n        imagesCont.style.transform = `translateX(calc(${(-imgIndex * document.querySelector('.offer .card').offsetWidth)-fr}px))`;   \r\n    } else if((imgIndex !== circuleArr.length-1 || fr < 0) && (evn.clientX !== undefined ? evn.clientX : evn.touches[0].clientX) < lastNum) {\r\n        fr += lastX - (evn.clientX !== undefined ? evn.clientX : evn.touches[0].clientX);\r\n        imagesCont.style.transform = `translateX(calc(${(-imgIndex * document.querySelector('.offer .card').offsetWidth)-fr}px))`; \r\n\r\n    }\r\n\r\n    lastX = evn.clientX || evn.touches[0].clientX;\r\n\r\n    if(fr > imagesCont.offsetWidth/2+imagesCont.offsetWidth || fr < -(imagesCont.offsetWidth/2+imagesCont.offsetWidth)) {\r\n        document.querySelector('.offer').removeEventListener('mousemove', myFunc)\r\n    }\r\n\r\n    if(fr > document.querySelector('.offer .card').offsetWidth/2) {\r\n        trueScroll = 'goRight';\r\n    } else if(fr < -document.querySelector('.offer .card').offsetWidth/2){\r\n        trueScroll = 'goLeft';\r\n    } else {\r\n        trueScroll = 'stop';\r\n    }\r\n}\r\nfunction clcikDown(evn) {\r\n        imagesCont.style.cursor = 'grabbing';\r\n        scrollNum = evn.clientX !== undefined ? evn.clientX : evn.touches[0].clientX;\r\n        lastNum = scrollNum;\r\n        lastX = scrollNum;\r\n        document.querySelector('.offer').addEventListener('mousemove', myFunc);\r\n        document.querySelector('.offer').addEventListener('touchmove', myFunc);\r\n        // alert('a')\r\n}    \r\n\r\nimagesCont.addEventListener('mousedown', clcikDown)\r\nimagesCont.addEventListener('touchstart', clcikDown)\r\n\r\n\r\ndocument.querySelector('.offer').addEventListener('mouseup', clickUp)\r\ndocument.querySelector('.offer').addEventListener('touchend', clickUp);\r\n\r\nfunction clickUp(evn) {\r\n        imagesCont.style.cursor = 'grab';\r\n        document.querySelector('.offer').removeEventListener('mousemove', myFunc); \r\n\r\n        if(trueScroll === 'goRight') {\r\n            trueScroll = \"stop\";\r\n            if(imgIndex + Math.abs(Math.round(fr/document.querySelector('.offer .card').offsetWidth)) <= circuleArr.length-1) {\r\n                imgIndex += Math.round(fr/document.querySelector('.offer .card').offsetWidth);\r\n            } else {\r\n                imgIndex = circuleArr.length-1;\r\n            }\r\n            curcleChange(imgIndex)\r\n            ditablishLR();\r\n        } else if(trueScroll === 'goLeft') {\r\n            trueScroll = \"stop\";\r\n            if(imgIndex - Math.abs(Math.round(fr/document.querySelector('.offer .card').offsetWidth)) >= 0) {\r\n                imgIndex += Math.round(fr/document.querySelector('.offer .card').offsetWidth);\r\n            } else {\r\n                imgIndex = 0;\r\n            }\r\n            curcleChange(imgIndex)\r\n            ditablishLR();\r\n        } else {\r\n            // stop\r\n            imgIndex = imgIndex;\r\n        }\r\n        \r\n        fr = 1;\r\n        console.log(imgIndex)\r\n        imagesCont.style.transform = `translateX(${(-imgIndex * document.querySelector('.offer .card').offsetWidth) - imgIndex * 15}px)`;\r\n        // console.log(imgIndex, cards.length-Math.round((document.querySelector('.slider').offsetWidth / document.querySelector('.offer .card').offsetWidth)))\r\n}    \r\n"],"file":"sliderCards.js"}